--
-- Script was generated by Devart dbForge Studio 2019 for MySQL, Version 8.2.23.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 25.03.2020 20:18:33
-- Server version: 5.5.5-10.3.13-MariaDB-log
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE college;

--
-- Drop table `toskin_graduate_time`
--
DROP TABLE IF EXISTS toskin_graduate_time;

--
-- Drop table `toskin_classroom`
--
DROP TABLE IF EXISTS toskin_classroom;

--
-- Drop table `toskin_day`
--
DROP TABLE IF EXISTS toskin_day;

--
-- Drop table `toskin_lesson_num`
--
DROP TABLE IF EXISTS toskin_lesson_num;

--
-- Drop table `toskin_graduate`
--
DROP TABLE IF EXISTS toskin_graduate;

--
-- Drop table `toskin_course`
--
DROP TABLE IF EXISTS toskin_course;

--
-- Drop table `toskin_student`
--
DROP TABLE IF EXISTS toskin_student;

--
-- Drop table `toskin_gruppa`
--
DROP TABLE IF EXISTS toskin_gruppa;

--
-- Drop table `toskin_special`
--
DROP TABLE IF EXISTS toskin_special;

--
-- Drop table `toskin_teacher`
--
DROP TABLE IF EXISTS toskin_teacher;

--
-- Drop table `toskin_otdel`
--
DROP TABLE IF EXISTS toskin_otdel;

--
-- Drop table `toskin_user`
--
DROP TABLE IF EXISTS toskin_user;

--
-- Drop table `toskin_gender`
--
DROP TABLE IF EXISTS toskin_gender;

--
-- Set default database
--
USE college;

--
-- Create table `toskin_gender`
--
CREATE TABLE toskin_gender (
  gender_id tinyint(4) UNSIGNED NOT NULL AUTO_INCREMENT,
  name varchar(50) NOT NULL,
  PRIMARY KEY (gender_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 3,
AVG_ROW_LENGTH = 8192,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `toskin_user`
--
CREATE TABLE toskin_user (
  user_id bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  lastname varchar(255) NOT NULL,
  firstname varchar(255) NOT NULL,
  patronomic varchar(255) NOT NULL,
  login varchar(255) NOT NULL,
  pass varchar(255) NOT NULL,
  gender_id tinyint(4) UNSIGNED NOT NULL,
  birthday date NOT NULL,
  PRIMARY KEY (user_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 13,
AVG_ROW_LENGTH = 1365,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE toskin_user
ADD CONSTRAINT FK_toskin_user_toskin_gender_gender_id FOREIGN KEY (gender_id)
REFERENCES toskin_gender (gender_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `toskin_otdel`
--
CREATE TABLE toskin_otdel (
  otdel_id smallint(6) UNSIGNED NOT NULL AUTO_INCREMENT,
  name varchar(50) NOT NULL,
  PRIMARY KEY (otdel_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 4,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `toskin_teacher`
--
CREATE TABLE toskin_teacher (
  user_id bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  otdel_id smallint(6) UNSIGNED NOT NULL,
  PRIMARY KEY (user_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 6,
AVG_ROW_LENGTH = 3276,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE toskin_teacher
ADD CONSTRAINT FK_toskin_teacher_toskin_otdel_otdel_id FOREIGN KEY (otdel_id)
REFERENCES toskin_otdel (otdel_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE toskin_teacher
ADD CONSTRAINT FK_toskin_teacher_toskin_user_user_id FOREIGN KEY (user_id)
REFERENCES toskin_user (user_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `toskin_special`
--
CREATE TABLE toskin_special (
  special_id int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  name varchar(50) NOT NULL,
  otdel_id smallint(6) UNSIGNED NOT NULL,
  PRIMARY KEY (special_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 7,
AVG_ROW_LENGTH = 2730,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE toskin_special
ADD CONSTRAINT FK_toskin_special_toskin_otdel_otdel_id FOREIGN KEY (otdel_id)
REFERENCES toskin_otdel (otdel_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `toskin_gruppa`
--
CREATE TABLE toskin_gruppa (
  gruppa_id int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  name varchar(50) NOT NULL,
  special_id int(11) UNSIGNED NOT NULL,
  date_begin date NOT NULL,
  date_end date NOT NULL,
  PRIMARY KEY (gruppa_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 10,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE toskin_gruppa
ADD CONSTRAINT FK_toskin_gruppa_toskin_special_special_id FOREIGN KEY (special_id)
REFERENCES toskin_special (special_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `toskin_student`
--
CREATE TABLE toskin_student (
  user_id bigint(20) UNSIGNED NOT NULL,
  gruppa_id int(11) UNSIGNED NOT NULL,
  num_zach varchar(255) NOT NULL,
  PRIMARY KEY (user_id)
)
ENGINE = INNODB,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE toskin_student
ADD CONSTRAINT FK_toskin_student_toskin_gruppa_gruppa_id FOREIGN KEY (gruppa_id)
REFERENCES toskin_gruppa (gruppa_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE toskin_student
ADD CONSTRAINT FK_toskin_student_toskin_user_user_id FOREIGN KEY (user_id)
REFERENCES toskin_user (user_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `toskin_course`
--
CREATE TABLE toskin_course (
  course_id int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  name varchar(50) NOT NULL,
  special_id int(11) UNSIGNED NOT NULL,
  hours smallint(6) UNSIGNED NOT NULL,
  PRIMARY KEY (course_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 10,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `toskin_graduate`
--
CREATE TABLE toskin_graduate (
  graduate_id int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  gruppa_id int(11) UNSIGNED NOT NULL,
  course_id int(11) UNSIGNED NOT NULL,
  user_id bigint(20) UNSIGNED NOT NULL,
  PRIMARY KEY (graduate_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE toskin_graduate
ADD CONSTRAINT FK_toskin_graduate_toskin_course_course_id FOREIGN KEY (course_id)
REFERENCES toskin_course (course_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE toskin_graduate
ADD CONSTRAINT FK_toskin_graduate_toskin_gruppa_gruppa_id FOREIGN KEY (gruppa_id)
REFERENCES toskin_gruppa (gruppa_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE toskin_graduate
ADD CONSTRAINT FK_toskin_graduate_toskin_teacher_user_id FOREIGN KEY (user_id)
REFERENCES toskin_teacher (user_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create table `toskin_lesson_num`
--
CREATE TABLE toskin_lesson_num (
  lesson_num_id int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  name varchar(50) NOT NULL,
  time_lesson time NOT NULL,
  year_lesson year(4) NOT NULL,
  PRIMARY KEY (lesson_num_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `toskin_day`
--
CREATE TABLE toskin_day (
  day_id tinyint(4) UNSIGNED NOT NULL AUTO_INCREMENT,
  name varchar(50) NOT NULL,
  PRIMARY KEY (day_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 15,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `toskin_classroom`
--
CREATE TABLE toskin_classroom (
  classroom_id int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  name varchar(50) NOT NULL,
  PRIMARY KEY (classroom_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `toskin_graduate_time`
--
CREATE TABLE toskin_graduate_time (
  graduate_time_id int(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  graduate_id int(11) UNSIGNED NOT NULL,
  day_id tinyint(4) UNSIGNED NOT NULL,
  lesson_num_id int(11) UNSIGNED NOT NULL,
  classroom_id int(11) UNSIGNED NOT NULL,
  PRIMARY KEY (graduate_time_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create foreign key
--
ALTER TABLE toskin_graduate_time
ADD CONSTRAINT FK_toskin_graduate_time_toskin_classroom_classroom_id FOREIGN KEY (classroom_id)
REFERENCES toskin_classroom (classroom_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE toskin_graduate_time
ADD CONSTRAINT FK_toskin_graduate_time_toskin_day_day_id FOREIGN KEY (day_id)
REFERENCES toskin_day (day_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE toskin_graduate_time
ADD CONSTRAINT FK_toskin_graduate_time_toskin_graduate_graduate_id FOREIGN KEY (graduate_id)
REFERENCES toskin_graduate (graduate_id) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Create foreign key
--
ALTER TABLE toskin_graduate_time
ADD CONSTRAINT FK_toskin_graduate_time_toskin_lesson_num_lesson_num_id FOREIGN KEY (lesson_num_id)
REFERENCES toskin_lesson_num (lesson_num_id) ON DELETE CASCADE ON UPDATE CASCADE;

-- 
-- Dumping data for table toskin_gender
--
INSERT INTO toskin_gender VALUES
(1, 'муж'),
(2, 'жен');

-- 
-- Dumping data for table toskin_user
--
INSERT INTO toskin_user VALUES
(1, 'Иванов', 'Иван', 'Иванович', 'ivan', '111', 1, '1975-05-25'),
(2, 'Петров', 'Петр', 'Петрович', 'petr', '222', 1, '1980-08-06'),
(3, 'Козлов', 'Иван', 'Иван', 'kozl', '333', 1, '1985-04-15'),
(4, 'Чурюмова', 'Кристина', 'Федоровна', 'kristi', '444', 2, '1990-05-20'),
(5, 'Васильев', 'Феофан', 'Александрович', 'feo', '555', 1, '1991-01-13'),
(6, 'Федорова', 'Милана', 'Андреевна', 'mila', '666', 2, '1998-04-15'),
(7, 'Нуржанов', 'Нуржан', 'Нуржанович', 'nyr', '777', 1, '1999-09-18'),
(8, 'Канатов', 'Канат', 'Канатович', 'kanat', '888', 1, '1999-07-07'),
(9, 'Золотая', 'Ирина', 'Кайратовна', 'irina', '999', 2, '2000-09-14'),
(10, 'Серая', 'Арина', 'Радионовна', 'ari', '101010', 2, '2001-10-29'),
(11, 'Петухов', 'Виталий', 'Фадеевич', 'vitya', '111111', 1, '2000-02-20'),
(12, 'Котова', 'Аурелия', 'Ароновна', 'kot', '121212', 2, '2002-12-19');

-- 
-- Dumping data for table toskin_otdel
--
INSERT INTO toskin_otdel VALUES
(1, 'Информационные системы'),
(2, 'Технические специальности'),
(3, 'Автоматизация и управление');

-- 
-- Dumping data for table toskin_special
--
INSERT INTO toskin_special VALUES
(1, 'Информационные системы', 1),
(2, 'Нефтегазовое дело', 2),
(3, 'Автоматизация и управление', 3),
(4, 'Электроснабжение', 3),
(5, 'Программное обеспечение ВТ и', 1),
(6, 'Строительство и эксплуатация', 2);

-- 
-- Dumping data for table toskin_teacher
--
INSERT INTO toskin_teacher VALUES
(1, 1),
(2, 1),
(3, 2),
(5, 2),
(4, 3);

-- 
-- Dumping data for table toskin_course
--
INSERT INTO toskin_course VALUES
(1, 'Основы алгоритмизации', 1, 90),
(2, 'Электротехника', 3, 106),
(3, 'Основы алгоритмизации', 5, 52),
(4, 'Мультимедиа технологии', 1, 36),
(5, 'Техническая механика', 6, 96),
(6, 'Промышленная электротехника', 4, 108),
(7, 'Автоматизированные информационные', 1, 86);

-- 
-- Dumping data for table toskin_gruppa
--
INSERT INTO toskin_gruppa VALUES
(1, '101 ИС', 1, '2016-09-01', '2020-07-01'),
(2, '102 АС', 3, '2016-09-01', '2020-07-01'),
(3, '302 ИС', 1, '2014-09-01', '2018-07-01'),
(4, '302 АС', 3, '2014-09-01', '2018-07-01'),
(5, '202 С', 6, '2015-09-01', '2019-07-01'),
(6, '404 П', 5, '2014-09-01', '2017-07-01'),
(7, '303 ЭЛ', 4, '2014-09-01', '2018-07-01');

-- 
-- Dumping data for table toskin_lesson_num
--
-- Table college.toskin_lesson_num does not contain any data (it is empty)

-- 
-- Dumping data for table toskin_graduate
--
-- Table college.toskin_graduate does not contain any data (it is empty)

-- 
-- Dumping data for table toskin_day
--
INSERT INTO toskin_day VALUES
(1, 'Понедельник'),
(2, 'Вторник'),
(3, 'Среда'),
(4, 'Четверг'),
(5, 'Пятница'),
(6, 'Суббота'),
(7, 'Воскресенье');

-- 
-- Dumping data for table toskin_classroom
--
-- Table college.toskin_classroom does not contain any data (it is empty)

-- 
-- Dumping data for table toskin_student
--
INSERT INTO toskin_student VALUES
(6, 1, 'K1020'),
(7, 2, 'А5292'),
(8, 2, 'В8578'),
(9, 5, 'Р5285'),
(10, 4, 'Ф5285'),
(11, 1, 'К7485'),
(12, 3, 'А2585');

-- 
-- Dumping data for table toskin_graduate_time
--
-- Table college.toskin_graduate_time does not contain any data (it is empty)

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;